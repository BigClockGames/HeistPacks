html {
  height: 100%;
  width: 100%;
}

body {
  background: #1a1a1a url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAGFBMVEUAAAA2NjYxMTEwMDAuLi4tLS0sLCwrKysU5i6UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPElEQVQ4jWNgQAX/GZABdgWKGUZVoKqhKsWoBhQ1jKpAVYNVilENKGoYVYGqBqsUoxpQ1DCqAlUNVikA+h8L8Qo1YdQAAAAASUVORK5CYII=');
  color: #ffca28;
  font-family: 'Courier New', monospace;
  margin: 0;
  padding: 0;
  min-height: 100vh;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  font-size: 16px; /* Default size */
}

body.font-size-small {
  font-size: 14px;
}

body.font-size-medium {
  font-size: 16px;
}

body.font-size-large {
  font-size: 18px;
}

.font-settings {
  margin: 20px 0;
  padding: 20px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
}

.font-settings select {
  padding: 8px;
  border-radius: 5px;
  background: rgba(0, 0, 0, 0.1);
  color: #fff;
  border: 1px solid #444;
  margin-top: 10px;
  width: 100%;
}

.game-container {
  max-width: 100%;
  margin: 0 auto;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
}

/* Mobile Styles */
@media (max-width: 768px) {
  .game-container {
    padding: 8px;
    height: calc(100vh - 16px);
  }

  .main-nav {
    padding: 8px;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 8px;
    position: sticky;
    top: 0;
    z-index: 100;
  }
}

/* Landscape Mode */
@media (max-width: 896px) and (orientation: landscape) {
  .game-container {
    display: flex;
    flex-direction: row;
  }

  .main-nav {
    width: 80px;
    height: 100vh;
    flex-direction: column;
    padding: 10px 5px;
  }

  .nav-tabs {
    flex-direction: column;
    gap: 10px;
  }

  .tab-btn {
    width: 70px;
    height: 70px;
    padding: 5px;
  }

  #cash {
    writing-mode: vertical-rl;
    text-orientation: mixed;
    height: auto;
    margin-top: 10px;
  }

  #gameArea {
    flex: 1;
    margin: 5px;
    height: calc(100vh - 10px);
  }

  .heist-slots {
    flex-direction: row;
    flex-wrap: nowrap;
    overflow-x: auto;
  }

  .collection-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  }

  .pack-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  }
}

  .nav-tabs {
  flex: 1;
  display: flex;
  gap: 8px;
  background: rgba(0, 0, 0, 0.5);
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 10px;
  z-index: 100;
}

.tab-btn {
  background: rgba(0, 0, 0, 0.3);
  color: #e6e6e6;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  min-width: 60px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px;
}

.tab-btn.active {
  background: rgba(76, 175, 80, 0.3);
  border-color: rgba(76, 175, 80, 0.5);
}

.tab-icon {
  font-size: 24px;
  margin-bottom: 4px;
}

.tab-text {
  text-align: center;
}

body.font-size-small .tab-text {
  font-size: 10px;
}

body.font-size-medium .tab-text {
  font-size: 12px;
}

body.font-size-large .tab-text {
  font-size: 14px;
}

/* Desktop styles */
@media (min-width: 769px) {
  .nav-tabs {
    flex-direction: row;
    justify-content: flex-start;
  }

  .tab-btn {
    font-size: 18px;
    padding: 12px 25px;
    min-width: 120px;
    text-align: center;
    white-space: nowrap;
  }
}

/* Mobile styles */
@media (max-width: 768px) {
  .nav-tabs {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    width: 100%;
  }

  .tab-btn {
    font-size: 16px;
    padding: 12px 8px;
    width: 100%;
    text-align: center;
    white-space: nowrap;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    color: #fff;
  }

  .tab-text {
    display: none;
  }

  .tab-icon {
    font-size: 24px;
    display: block;
    color: #fff;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
  }

  .tab-btn.active {
    background: rgba(76, 175, 80, 0.3);
    box-shadow: 0 0 10px rgba(76, 175, 80, 0.2);
    border: 1px solid rgba(76, 175, 80, 0.5);
  }
}

  #cash {
    width: 100%;
    text-align: center;
    font-size: 24px;
    padding: 8px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
  }

  .pack-opening {
    flex-direction: column;
    gap: 12px;
    align-items: center;
  }

  .card {
    width: 160px;
    height: 220px;
    font-size: 12px;
    padding: 12px;
  }

  .card-name {
    font-size: 16px;
  }

  .card-stats {
    font-size: 12px;
    padding: 8px;
  }

  .heist-slots {
    flex-direction: column;
    gap: 12px;
  }

  .heist-slot {
    min-width: unset;
    padding: 12px;
  }

  .collection-grid {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 12px;
    padding: 12px;
  }

  #gameArea {
    margin: 8px;
    padding: 12px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .pack-grid {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
    padding: 12px;
  }

  .pack-option {
    padding: 12px;
  }

  .pack-image {
    font-size: 36px;
  }

  .modal-content {
    width: 95%;
    max-width: 320px;
    padding: 16px;
  }

  .tutorial {
    margin: 12px;
    padding: 16px;
  }

  .tutorial p {
    font-size: 16px;
  }
}

.main-nav {
  background: rgba(0, 0, 0, 0.85);
  padding: 15px 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 3px solid #2a2a2a;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.5);
}

.nav-tabs {
  display: flex;
  gap: 20px;
}

.tab-btn {
  background: transparent;
  color: #999;
  border: none;
  padding: 10px 25px;
  font-family: 'Special Elite', cursive;
  font-size: 18px;
  cursor: pointer;
  position: relative;
  transition: all 0.3s;
  letter-spacing: 1px;
}

.tab-icon {
  display: none;
}

@media (min-width: 769px) {
  .tab-text {
    display: inline;
  }
}

.tab-btn:hover {
  color: #fff;
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

.tab-btn::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 2px;
  background: #4CAF50;
  transition: all 0.3s;
  transform: translateX(-50%);
}

.tab-btn:hover::after {
  width: 80%;
}

.hud-stats {
  display: flex;
  gap: 20px;
  align-items: center;
  justify-content: flex-end;
}

#xp-display {
  display: flex;
  flex-direction: column;
  gap: 5px;
  min-width: 200px;
}

.level-badge {
  background: #FFD700;
  color: #000;
  padding: 2px 10px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: bold;
  text-align: center;
  box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
}

.xp-bar {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 10px;
  height: 15px;
  position: relative;
  overflow: hidden;
}

.xp-progress {
  background: linear-gradient(90deg, #4CAF50, #45a049);
  height: 100%;
  transition: width 0.3s ease;
}

.xp-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #fff;
  font-size: 10px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
  white-space: nowrap;
}

#cash, #drugs {
  font-size: 28px;
  text-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
  letter-spacing: 2px;
  display: flex;
  align-items: center;
  gap: 8px;
}

#cash {
  color: #4CAF50;
  order: 2;
}

#drugs {
  color: #9c27b0;
  order: 1;
}

#cigs {
  color: #ff5722;
  order: 1;
}

#gameArea {
  flex: 1;
  margin: 20px;
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid #333;
  border-radius: 5px;
  padding: 20px;
  overflow-y: auto;
  backdrop-filter: blur(5px);
}

.tutorial-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.tutorial {
  background: rgba(20, 20, 20, 0.95);
  padding: 30px;
  border-radius: 15px;
  margin: 20px;
  max-width: 600px;
  border: 2px solid #4CAF50;
  box-shadow: 0 0 20px rgba(76, 175, 80, 0.3);
}

.tutorial p {
  font-size: 20px;
  line-height: 1.6;
  margin-bottom: 25px;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.tutorial button {
  font-size: 18px;
  padding: 12px 25px;
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.tutorial button:hover {
  background: #45a049;
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
}

.pack-opening {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: calc(100vh - 150px);
  padding: 20px;
  perspective: 1000px;
}

.pack-opening .horizontal-layout {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin: 20px 0;
  width: 100%;
  max-width: 1000px;
}

.pack-opening .card-reveal {
  position: relative;
  transform-style: preserve-3d;
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  transform: rotateY(180deg);
}

.pack-opening .card-reveal.revealed {
  transform: rotateY(0deg);
}

.pack-buttons {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin-top: 30px;
  width: 100%;
}

.pack-buttons button {
  padding: 15px 30px;
  font-size: 18px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}

.open-another-btn {
  background: linear-gradient(45deg, #4CAF50, #45a049);
  color: white;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
}

.open-another-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
}

.continue-btn {
  background: linear-gradient(45deg, #333, #444);
  color: white;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.continue-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

.card {
  width: 200px;
  height: 300px;
  border-radius: 15px;
  padding: 15px;
  margin: 5px auto;
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  text-align: left;
  position: relative;
  transform-style: preserve-3d;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  overflow: hidden;
}

.card-back {
  transform: rotateY(180deg);
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  overflow: hidden;
}

/* Classic pack card back */
.card-back:not(.drug-pack) {
  background: linear-gradient(135deg, #1a1a1a, #333);
  border: 2px solid #666;
}

.card-back:not(.drug-pack)::before {
  content: 'ðŸŽ­';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 72px;
  opacity: 0.4;
  pointer-events: none;
  will-change: transform;
  backface-visibility: hidden;
}

.card-back:not(.drug-pack)::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 10px,
    rgba(255,255,255,0.05) 10px,
    rgba(255,255,255,0.05) 20px
  );
}

/* Drug pack card back */
.card-back.drug-pack {
  background: linear-gradient(135deg, #1a0f0f, #2d1919);
  border: 2px solid #4a1f1f;
}

.card-back.drug-pack::before {
  content: 'ðŸ’Š';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 72px;
  opacity: 0.4;
  pointer-events: none;
  will-change: transform;
  backface-visibility: hidden;
}

.card-back.drug-pack::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    -45deg,
    transparent,
    transparent 15px,
    rgba(255,0,0,0.05) 15px,
    rgba(255,0,0,0.05) 30px
  );
}

/* Prison pack card back */
.card-back.prison-pack {
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  border: 2px solid #4a4a6a;
}

.card-back.prison-pack::before {
  content: 'ðŸ”’';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 72px;
  opacity: 0.4;
  pointer-events: none;
  will-change: transform;
  backface-visibility: hidden;
}

.card-back.prison-pack::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    linear-gradient(0deg, transparent 0%, transparent 95%, rgba(255,255,255,0.1) 100%) 0 0,
    linear-gradient(90deg, transparent 0%, transparent 95%, rgba(255,255,255,0.1) 100%) 0 0;
  background-size: 20px 20px;
}

.card-back:hover {
  transform: rotateY(180deg) translateY(-15px) scale(1.05);
}

.card-back:not(.drug-pack):hover {
  box-shadow: 
    0 15px 25px rgba(0,0,0,0.4),
    0 0 20px #4CAF50,
    0 0 40px rgba(76, 175, 80, 0.4);
}

.card-back.drug-pack:hover {
  box-shadow: 
    0 15px 25px rgba(0,0,0,0.4),
    0 0 20px #ff1744,
    0 0 40px rgba(255, 23, 68, 0.4);
}

.card-common { 
  background: linear-gradient(135deg, #4a4a4a, #333333);
  border: 2px solid #ffffff;
  color: #ffffff;
  box-shadow: 0 0 15px rgba(255,255,255,0.3);
}

.card-rare { 
  background: linear-gradient(135deg, #1a237e, #0d47a1);
  border: 2px solid #2196f3;
  box-shadow: 0 0 15px rgba(33,150,243,0.5);
  color: #ffffff;
}

.card-epic { 
  background: linear-gradient(135deg, #4a148c, #311b92);
  border: 2px solid #9c27b0;
  box-shadow: 0 0 20px rgba(156,39,176,0.6);
  color: #ffffff;
}

.card-legendary { 
  background: linear-gradient(45deg, #ffd700, #ff9800, #ffd700);
  border: 2px solid #ffd700;
  box-shadow: 0 0 25px rgba(255,215,0,0.5);
  animation: legendary-pulse 2s infinite;
  color: #000000;
}

@keyframes legendary-pulse {
  0% { box-shadow: 0 0 25px #ffd700; }
  50% { box-shadow: 0 0 40px #ffd700; }
  100% { box-shadow: 0 0 25px #ffd700; }
}

.card-name {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 10px;
}

.card-rarity {
  font-size: 14px;
  margin-bottom: 5px;
}

.card-category {
  font-size: 14px;
  margin-bottom: 15px;
}

.card-stats {
  font-size: 16px;
  line-height: 1.6;
  margin-top: 15px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 8px;
}

.new-badge {
  position: absolute;
  top: -10px;
  right: -10px;
  background: #ff6b6b;
  color: white;
  padding: 5px 10px;
  border-radius: 15px;
  font-size: 14px;
  font-weight: bold;
  transform: rotate(15deg);
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% { transform: rotate(15deg) scale(1); }
  50% { transform: rotate(15deg) scale(1.1); }
  100% { transform: rotate(15deg) scale(1); }
}

.expansion-tag {
  position: absolute;
  top: 5px;
  left: 5px;
  background: rgba(0,0,0,0.7);
  padding: 3px 8px;
  border-radius: 10px;
  font-size: 12px;
  color: #FFD700;
}

.source-tag {
  position: absolute;
  top: 30px;
  left: 5px;
  background: rgba(255,23,68,0.7);
  padding: 3px 8px;
  border-radius: 10px;
  font-size: 12px;
  color: white;
}

.card-id {
  position: absolute;
  top: 5px;
  right: 5px;
  background: rgba(0,0,0,0.7);
  padding: 3px 8px;
  border-radius: 10px;
  font-size: 12px;
  color: #fff;
}

.card-name {
  font-size: 24px;
  font-weight: bold;
  margin: 40px 0 15px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.card-rarity {
  font-size: 16px;
  margin-bottom: 8px;
  text-align: center;
  letter-spacing: 2px;
}

.card-category {
  font-size: 16px;
  margin-bottom: 15px;
  text-align: center;
  opacity: 0.8;
}

.card-flavor {
  font-style: italic;
  font-size: 14px;
  margin-top: 15px;
  opacity: 0.8;
  text-align: center;
}

.save-management {
  margin: 20px 0;
  padding: 20px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
}

.import-section {
  margin-top: 15px;
  display: flex;
  gap: 10px;
}

.import-section input {
  flex: 1;
  padding: 8px;
  border: 1px solid #444;
  border-radius: 5px;
  background: rgba(0, 0, 0, 0.1);
  color: #fff;
}

.settings-panel {
  background: rgba(0, 0, 0, 0.8);
  padding: 20px;
  border-radius: 10px;
  margin: 20px auto;
  max-width: 400px;
}

.settings-panel h2 {
  margin-bottom: 20px;
}

.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background: #222;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  max-width: 400px;
  width: 90%;
}

.modal-content h2 {
  margin-bottom: 15px;
}

.modal-content p {
  margin-bottom: 20px;
}

#modal-buttons {
  display: flex;
  justify-content: center;
  gap: 10px;
}

.collection-view {
  background: rgba(0, 0, 0, 0.5);
  border-radius: 10px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  height: calc(100vh - 120px);
  max-width: 1400px;
  margin: 0 auto;
}

.collection-header {
  margin-bottom: 20px;
}

.collection-header h2 {
  color: #FFD700;
  font-size: 28px;
  margin-bottom: 15px;
  text-align: center;
  text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
}

.collection-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  padding: 15px;
  background: rgba(0, 0, 0, 0.4);
  border-radius: 12px;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-width: 200px;
}

.filter-group select {
  padding: 8px 12px;
  border-radius: 6px;
  background: rgba(0, 0, 0, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #fff;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.filter-group select:hover {
  border-color: rgba(255, 215, 0, 0.5);
  box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
}

.filter-group .filter-label {
  font-size: 14px;
  color: #FFD700;
  opacity: 0.9;
  font-weight: bold;
}

.sort-button {
  padding: 8px 20px;
  background: linear-gradient(45deg, #4CAF50, #45a049);
  border: none;
  border-radius: 6px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-left: 15px;
  align-self: flex-end;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.sort-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(76, 175, 80, 0.4);
}

.sort-button:active {
  transform: translateY(0);
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.filter-label {
  font-size: 14px;
  color: #ffca28;
  opacity: 0.8;
}

.collection-tabs {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 15px;
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(0, 0, 0, 0.4);
  border-radius: 12px;
  border: 1px solid rgba(255, 215, 0, 0.1);
}

.tab-button {
  font-size: 18px;
  padding: 12px 25px;
  background: rgba(0, 0, 0, 0.6);
  color: #ffca28;
  border: 1px solid rgba(255, 215, 0, 0.3);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 120px;
  text-transform: uppercase;
  font-family: 'Special Elite', cursive;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.tab-button:last-child {
  display: none;
}

.tab-button:hover {
  transform: translateY(-2px);
  border-color: #FFD700;
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
}

.tab-button.active {
  background: rgba(255, 215, 0, 0.2);
  border-color: #FFD700;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
}

.collection-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 20px;
  padding: 20px;
  justify-items: center;
  align-items: start;
}

.collection-card {
  width: 200px !important;
  height: 300px !important;
  transform: none !important;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  cursor: default;
  opacity: 0.7;
  margin: 0 auto;
}

.collection-card.owned {
  opacity: 1;
  cursor: pointer;
}

.collection-card.owned:hover {
  transform: translateY(-5px) !important;
}

.card-count {
  position: absolute;
  bottom: 10px;
  right: 10px;
  background: rgba(0, 0, 0, 0.5);
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 14px;
}

.not-owned {
  filter: grayscale(1);
}

.heist-setup {
  max-width: 1200px;
  margin: 0 auto;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

#heist-summary {
  order: -1;
}

#execute-heist {
  order: -1;
  margin: 0 auto;
  padding: 12px 30px;
  font-size: 18px;
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}

#execute-heist:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
}

#execute-heist:disabled {
  background: #666;
  cursor: not-allowed;
}

.heist-slots {
  display: flex;
  gap: 20px;
  flex: 1;
  overflow: hidden;
}

@media (orientation: portrait) {
  .heist-slots {
    flex-direction: column;
  }
}

@media (orientation: landscape) {
  .heist-slots {
    flex-direction: row;
  }

  .heist-slot {
    width: 33.33%;
    min-width: 250px;
  }
}

.heist-slot {
  background: rgba(0, 0, 0, 0.3);
  padding: 15px;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
}

.slot-cards {
  flex: 1;
  overflow-y: auto;
  padding-right: 10px;
  margin-top: 10px;
}

.slot-cards::-webkit-scrollbar {
  width: 8px;
}

.slot-cards::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.slot-cards::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

.heist-slot h3 {
  position: sticky;
  top: 0;
  background: rgba(0, 0, 0, 0.8);
  padding: 10px;
  margin: -15px -15px 10px -15px;
  border-radius: 10px 10px 0 0;
  text-align: center;
}

.slot-cards {
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-height: 500px;
  overflow-y: auto;
}

.selectable {
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.selectable:hover {
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(255, 255, 255, 0.2);
}

.selected {
  border: 2px solid #4CAF50;
  box-shadow: 0 0 15px #4CAF50;
}

.tooltip {
  background: rgba(0, 0, 0, 0.7);
  padding: 8px;
  border-radius: 5px;
  margin: 10px 0;
  font-size: 14px;
}

.heist-summary {
  background: rgba(0, 0, 0, 0.5);
  padding: 20px;
  border-radius: 10px;
  margin: 20px 0;
  text-align: center;
}

.success-chance {
  font-size: 24px;
  color: #4CAF50;
  margin: 15px 0;
}

.potential-reward {
  font-size: 20px;
  color: #FFD700;
}

.failure-warning {
  color: #ff6b6b;
  font-size: 14px;
}

.heist-result {
  text-align: center;
  padding: 20px;
  border-radius: 10px;
  margin: 20px auto;
  max-width: 400px;
}

.heist-result.success {
  background: rgba(76, 175, 80, 0.2);
  border: 2px solid #4CAF50;
}

.heist-result.failure {
  background: rgba(255, 107, 107, 0.2);
  border: 2px solid #ff6b6b;
}

.reward {
  font-size: 24px;
  margin: 20px 0;
  color: #4CAF50;
}

.lost-cards {
  background: rgba(255, 0, 0, 0.1);
  padding: 15px;
  border-radius: 8px;
  margin: 20px 0;
}

.failure-text {
  color: #ff6b6b;
  font-size: 18px;
  margin-bottom: 10px;
}

.lost-card {
  color: #ff8888;
  font-size: 16px;
  margin: 5px 0;
}

.reward-info {
  color: #FFD700;
  margin-top: 10px;
  font-size: 14px;
}

.pack-selection {
  padding: 20px;
  text-align: center;
}

.pack-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 15px;
  padding: 15px;
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
}

.pack-option {
  background: rgba(0, 0, 0, 0.6);
  border: 2px solid #444;
  border-radius: 15px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.pack-option:not(.locked):hover {
  transform: translateY(-5px);
  border-color: #4CAF50;
  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
}

.pack-option.locked {
  cursor: not-allowed;
  filter: grayscale(0.7);
}

.pack-image {
  font-size: 48px;
  margin: 20px 0;
}

.pack-price {
  color: #4CAF50;
  font-size: 20px;
  margin: 10px 0;
}

.pack-description {
  font-size: 14px;
  opacity: 0.8;
  margin: 10px 0;
}

.pack-locked {
  position: absolute;
  top: 10px;
  right: 10px;
  background: rgba(255, 0, 0, 0.3);
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 14px;
}

.sets-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  padding: 20px;
}

.set-card {
  background: rgba(0, 0, 0, 0.6);
  border: 2px solid #333;
  border-radius: 10px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.set-card:hover {
  transform: translateY(-5px);
  border-color: #4CAF50;
  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
}

.set-progress {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 10px;
  height: 20px;
  margin: 15px 0;
  position: relative;
  overflow: hidden;
}

.progress-bar {
  background: #4CAF50;
  height: 100%;
  transition: width 0.3s ease;
}

.progress-bar span {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 12px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.set-reward-preview {
  margin-top: 10px;
  font-size: 14px;
  color: #FFD700;
}

.set-details {
  padding: 20px;
}

.back-button {
  background: #333;
  border: none;
  color: white;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  margin-bottom: 20px;
}

.cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.card-owned-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  background: rgba(76, 175, 80, 0.8);
  color: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 12px;
}

.reward-tease {
  color: #FFD700;
  font-style: italic;
}
.unclaimed-reward {
  cursor: pointer;
  animation: pulse 1.5s infinite;
}

.claim-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.8);
  padding: 10px 20px;
  border-radius: 20px;
  color: #FFD700;
  font-size: 18px;
  font-weight: bold;
  pointer-events: none;
}

.celebration-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.celebration-content {
  text-align: center;
  padding: 30px;
  border-radius: 20px;
  background: rgba(20, 20, 20, 0.95);
  border: 3px solid #FFD700;
  box-shadow: 0 0 30px #FFD700;
  position: relative;
  overflow: hidden;
}

.celebration-card {
  transform: scale(1.2);
  margin: 20px auto;
  animation: celebrationCard 1s ease-out;
}

.celebration-particle {
  position: absolute;
  width: 10px;
  height: 10px;
  background: #FFD700;
  border-radius: 50%;
  animation: particleFall 3s linear infinite;
}

@keyframes celebrationCard {
  0% { transform: scale(0) rotate(-180deg); opacity: 0; }
  100% { transform: scale(1.2) rotate(0deg); opacity: 1; }
}

@keyframes particleFall {
  0% { transform: translateY(-100vh) scale(0); }
  50% { transform: translateY(50vh) scale(1); }
  100% { transform: translateY(100vh) scale(0); }
}

@keyframes pulse {
  0% { transform: scale(1); box-shadow: 0 0 20px #FFD700; }
  50% { transform: scale(1.05); box-shadow: 0 0 40px #FFD700; }
  100% { transform: scale(1); box-shadow: 0 0 20px #FFD700; }
}

.help-page {
  display: flex;
  gap: 20px;
  padding: 20px;
  color: #fff;
  height: calc(100vh - 200px);
}

.help-sidebar {
  width: 200px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 20px;
  background: rgba(0, 0, 0, 0.4);
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.help-content {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  background: rgba(0, 0, 0, 0.4);
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.help-tab {
  padding: 10px 15px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 5px;
  color: #fff;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: left;
}

.help-tab:hover {
  background: rgba(76, 175, 80, 0.2);
  border-color: rgba(76, 175, 80, 0.3);
}

.help-tab.active {
  background: rgba(76, 175, 80, 0.3);
  border-color: #4CAF50;
  box-shadow: 0 0 10px rgba(76, 175, 80, 0.2);
}

.help-page h1 {
  color: #FFD700;
  text-align: center;
  font-size: 32px;
  margin-bottom: 30px;
  text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

.help-section {
  background: rgba(0, 0, 0, 0.4);
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.help-section h2 {
  color: #4CAF50;
  margin-bottom: 15px;
  font-size: 24px;
}

.help-section p, .help-section li {
  line-height: 1.6;
  margin-bottom: 10px;
  font-size: 16px;
}

.help-section ul, .help-section ol {
  margin-left: 20px;
  margin-bottom: 15px;
}

.help-section li {
  margin-bottom: 8px;
}

.black-market {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.black-market h2 {
  text-align: center;
  color: #ff1744;
  font-size: 36px;
  margin-bottom: 30px;
  text-shadow: 0 0 15px rgba(255, 23, 68, 0.3);
}

.refresh-timer {
  text-align: center;
  font-size: 24px;
  color: #ff1744;
  margin-bottom: 30px;
  font-family: monospace;
}

.black-market-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 30px;
  padding: 20px;
}

.black-market-item {
  display: flex;
  flex-direction: column;
  gap: 15px;
  align-items: center;
}

.purchase-btn {
  width: 100%;
  padding: 15px;
  background: #ff1744;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 16px;
}

.purchase-btn:hover:not(:disabled) {
  background: #d50000;
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 23, 68, 0.4);
}

.purchase-btn:disabled {
  background: #666;
  cursor: not-allowed;
}

.purchase-btn.sold-out {
  background: #333;
  color: #666;
  border: 1px solid #444;
  cursor: not-allowed;
}

.purchase-btn.sold-out:hover {
  transform: none;
  box-shadow: none;
}

.home-page {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.home-page h1 {
  text-align: center;
  color: #FFD700;
  font-size: 36px;
  margin-bottom: 30px;
  text-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
}

.property-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  padding: 20px;
}

.property-card {
  background: rgba(0, 0, 0, 0.6);
  border: 2px solid #444;
  border-radius: 15px;
  padding: 20px;
  position: relative;
  transition: all 0.3s ease;
}

.property-card:hover:not(.locked) {
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1);
}

.property-card.owned {
  border-color: #4CAF50;
  box-shadow: 0 0 20px rgba(76, 175, 80, 0.3);
}

.property-card.locked {
  opacity: 0.5;
  cursor: not-allowed;
}

.property-image {
  font-size: 48px;
  margin: 20px 0;
  text-align: center;
}

.property-card h3 {
  color: #FFD700;
  font-size: 24px;
  margin-bottom: 10px;
}

.property-card p {
  color: #fff;
  opacity: 0.8;
  margin-bottom: 15px;
}

.property-perks {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 15px 0;
}

.perk-tag {
  background: rgba(255, 215, 0, 0.1);
  color: #FFD700;
  padding: 5px 10px;
  border-radius: 15px;
  font-size: 12px;
}

.property-price {
  font-size: 20px;
  color: #4CAF50;
  margin: 15px 0;
}

.buy-property-btn {
  width: 100%;
  padding: 10px;
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.buy-property-btn:hover:not(:disabled) {
  background: #45a049;
  transform: translateY(-2px);
}

.buy-property-btn:disabled {
  background: #666;
  cursor: not-allowed;
}

.owned-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #4CAF50;
  color: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 14px;
}

.xp-popup {
  position: fixed;
  color: #4CAF50;
  font-size: 24px;
  font-weight: bold;
  text-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
  pointer-events: none;
  animation: xpPopup 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  z-index: 1001;
  padding: 10px 20px;
  background: rgba(0, 0, 0, 0.8);
  border-radius: 20px;
  border: 2px solid rgba(76, 175, 80, 0.3);
  backdrop-filter: blur(5px);
}

@keyframes xpPopup {
  0% {
    opacity: 0;
    transform: translate(-50%, 0);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -20px);
  }
  80% {
    opacity: 1;
    transform: translate(-50%, -40px);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -60px);
  }
}

.sparkle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #4CAF50;
  border-radius: 50%;
  animation: sparkle 0.8s ease-out forwards;
  animation-delay: var(--delay);
}

@keyframes sparkle {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(
      calc(cos(var(--angle, 0deg)) * 40px),
      calc(sin(var(--angle, 0deg)) * 40px)
    ) scale(0);
    opacity: 0;
  }
}
.sets-controls {
  padding: 15px;
  margin-bottom: 20px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 10px;
}

.expansion-selector {
  display: flex;
  align-items: center;
  gap: 10px;
}

.expansion-selector select {
  padding: 8px;
  border-radius: 5px;
  background: #333;
  color: white;
  border: 1px solid #444;
}

.expansion-selector label {
  color: #ccc;
  font-weight: bold;
}
.reroll-options {
  margin: 20px 0;
  padding: 20px;
  background: rgba(255, 87, 34, 0.1);
  border: 2px solid rgba(255, 87, 34, 0.3);
  border-radius: 12px;
  text-align: center;
  box-shadow: 0 0 15px rgba(255, 87, 34, 0.2);
}

.reroll-options p {
  font-size: 18px;
  color: #ff5722;
  margin-bottom: 15px;
  text-shadow: 0 0 10px rgba(255, 87, 34, 0.3);
}

.reroll-options button {
  margin-top: 10px;
  background: linear-gradient(45deg, #ff5722, #f4511e);
  border: none;
  padding: 12px 25px;
  border-radius: 8px;
  color: white;
  cursor: pointer;
  font-size: 16px;
  font-weight: bold;
  transition: all 0.3s ease;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.reroll-options button:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 87, 34, 0.4);
}

.reroll-options button:active {
  transform: translateY(0);
}

.reroll-count {
  font-size: 14px;
  color: #ffab91;
  margin-top: 10px;
  font-style: italic;
}

.reroll-info {
  margin-top: 15px;
  padding: 10px;
  background: rgba(255, 87, 34, 0.1);
  border: 1px solid rgba(255, 87, 34, 0.3);
  border-radius: 8px;
}

.reroll-note {
  font-size: 14px;
  color: #ffab91;
  margin-top: 5px;
  font-style: italic;
}

.achievement-notification {  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.9);
  border: 2px solid #FFD700;
  border-radius: 10px;
  padding: 15px;
  display: flex;
  align-items: center;
  gap: 15px;
  z-index: 1000;
  animation: slideIn 0.5s ease-out;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
  max-width: 300px;
}

.achievement-notification.fade-out {
  animation: fadeOut 0.5s ease-out forwards;
}

.achievement-icon {
  font-size: 32px;
  color: #FFD700;
  text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

.achievement-text {
  flex: 1;
}

.achievement-title {
  color: #FFD700;
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 5px;
}

.achievement-desc {
  color: #fff;
  font-size: 14px;
  margin-bottom: 5px;
  opacity: 0.8;
}

.achievement-xp {
  color: #4CAF50;
  font-size: 14px;
  font-weight: bold;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.achievements-page {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.achievements-page h1 {
  text-align: center;
  color: #FFD700;
  font-size: 36px;
  margin-bottom: 30px;
  text-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
}

.achievement-stats {
  text-align: center;
  margin-bottom: 30px;
}

.total-achievements {
  font-size: 24px;
  color: #FFD700;
  margin-bottom: 10px;
}

.achievement-progress {
  width: 300px;
  height: 20px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 10px;
  margin: 0 auto;
  overflow: hidden;
}

.achievement-progress .progress-bar {
  height: 100%;
  background: linear-gradient(45deg, #FFD700, #FFA500);
  transition: width 0.3s ease;
}

.achievement-categories {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.achievement-category {
  background: rgba(0, 0, 0, 0.4);
  border-radius: 10px;
  padding: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.achievement-category h2 {
  color: #FFD700;
  font-size: 24px;
  margin-bottom: 20px;
  text-align: center;
}

.achievement-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.achievement-item {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 15px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 8px;
  transition: all 0.3s ease;
}

.achievement-item.completed {
  border: 1px solid rgba(76, 175, 80, 0.3);
  background: rgba(76, 175, 80, 0.1);
}

.achievement-item.locked {
  opacity: 0.7;
}

.achievement-icon {
  font-size: 32px;
}

.achievement-info {
  flex: 1;
}

.achievement-name {
  font-size: 18px;
  color: #FFD700;
  margin-bottom: 5px;
}

.achievement-desc {
  font-size: 14px;
  color: #ccc;
  margin-bottom: 5px;
}

.achievement-reward {
  font-size: 12px;
  color: #4CAF50;
}

.completion-badge {
  color: #4CAF50;
  font-size: 24px;
}

.support-page {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  text-align: center;
}

.support-page h1 {
  color: #ff69b4;
  font-size: 36px;
  margin-bottom: 30px;
  text-shadow: 0 0 15px rgba(255, 105, 180, 0.3);
}

.support-content {
  background: rgba(0, 0, 0, 0.4);
  border-radius: 15px;
  padding: 30px;
  border: 2px solid #ff69b4;
}

.support-content p {
  font-size: 18px;
  margin-bottom: 30px;
  color: #fff;
}

.donation-links {
  display: flex;
  flex-direction: column;
  gap: 20px;
  align-items: center;
}

.donation-button {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 15px 30px;
  background: linear-gradient(45deg, #ff69b4, #ff1493);
  color: white;
  text-decoration: none;
  border-radius: 10px;
  font-size: 18px;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
}

.donation-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
}

.donation-icon {
  font-size: 24px;
}

.heist-buttons {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin-top: 30px;
  width: 100%;
}

.repeat-button {
  background: linear-gradient(45deg, #333, #444);
  color: white;
  border: none;
  padding: 12px 30px;
  font-size: 18px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3